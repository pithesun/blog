---
title: "URL ì¸ì½”ë”©ê³¼ ë””ì½”ë”©"
date: "2026-01-06"
slug: "url-encoding-decoding"
tags: ["web"]
hero_image: "./flatwhite.jpg"
hero_image_alt: "flatwhite"
hero_image_credit_link: ""
hero_image_credit_text: ""
---

## ì´ìŠˆ ë‚´ìš© ë° ì›ì¸

- `URLSearchParams`ì˜ toString()ìœ¼ë¡œ ì¸ì½”ë”©ëœ ì¿¼ë¦¬ê°’ì´ í¬í•¨ëœ urlì„ `encodeURI` ë¡œ ê°ì‹¸ë©´ì„œ ì¤‘ë³µ ì¸ì½”ë”© ë°œìƒ

## í•´ê²°ë°©í–¥ê³¼ ë°©ë²• ì°¾ê¸°

- ì¤‘ë³µ ì¸ì½”ë”©ì„ í•´ê²°í•´ì•¼í•˜ëŠ”ë° ì´ë¥¼ ì–´ë–»ê²Œ í•´ê²°í•  ê²ƒì¸ì§€ê°€ ì£¼ì•ˆì ì´ì—ˆìŒ.
- `encodeURI` ë¥¼ ë‹¨ìˆœíˆ ë¹¼ë²„ë¦¬ê¸°ì—ëŠ” ì‹¬ë¦¬ì ìœ¼ë¡œ ë¶ˆì•ˆí•˜ì—¬, ì–´ë–»ê²Œ í•˜ë©´ ì•ˆì „í•˜ê²Œ ì¸ì½”ë”©ì‹œí‚¬ ìˆ˜ ìˆì„ê¹Œë¥¼ ê³ ë¯¼í•˜ê²Œ ë˜ì—ˆìŒ.

ë‚´ê°€ ë‚´ë¦° ê²°ë¡ ì€

- `new URL()` ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ `URLSearchParams` ì„ ì‚¬ìš©í•˜ë„ë¡ ì„¤ê³„ë˜ì–´ìˆê¸° ë•Œë¬¸ì— `encodeURI` ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  `URLSearchParams` ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¤‘ë³µì¸ì½”ë”©ì„ í•´ê²°í•  ìˆ˜ ìˆìœ¼ë©°
- `URL()` ê³¼ `URLSearchParams` ë¥¼ í•¨ê»˜ ì“°ëŠ” ê²ƒì´ ë‚˜ë¦„ best practiceë¼ëŠ” ê²°ë¡ ì„ ë„ì¶œí•¨.

## ê·¼ê±°

## 1. URL()ê³¼ URLSearchParamsì˜ ë‚´ë¶€ ë¡œì§

### new URL()

**ì‘ë™ì›ë¦¬**:

1. ë¸Œë¼ìš°ì €ê°€ new URL()ì„ ì‹¤í–‰í•  ë•Œ, ë‚´ë¶€ì ìœ¼ë¡œ ìƒˆë¡œìš´ **URLSearchParams** ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ URL ê°ì²´ì˜ **query object**ë¼ëŠ” ìŠ¬ë¡¯ì— ì €ì¥í•©ë‹ˆë‹¤.
2. ìƒˆë¡œ ë§Œë“  URLSearchParams ê°ì²´ì— ì•„ê¹Œ íŒŒì‹±í•œ ì¿¼ë¦¬ ìŠ¤íŠ¸ë§(query)ì„ ì§‘ì–´ë„£ì–´ ì´ˆê¸°í™”í•©ë‹ˆë‹¤. ì´ë•Œ ì¸ì½”ë”©ëœ ë¬¸ìì—´ì´ ë””ì½”ë”©ë˜ì–´ ì €ì¥ë©ë‹ˆë‹¤.
3. ì´ query objectê°€ ë°©ê¸ˆ ë§Œë“  URL ê°ì²´ì— ì†í•´ ìˆë‹¤ëŠ” ì—°ê²°ê³ ë¦¬ë¥¼ ë§Œë“­ë‹ˆë‹¤.

### URLSearchParams

**ì‘ë™ ì›ë¦¬:**

1. **Parsing:** ì…ë ¥ëœ URLì˜ ì¿¼ë¦¬ ë¶€ë¶„ì„ íŒŒì‹±í•  ë•Œ `percent-decode` ê³¼ì •ì„ ê±°ì¹©ë‹ˆë‹¤.
2. **Serialization:** `toString()` ë“±ì„ í†µí•´ URLì„ ë‹¤ì‹œ ë¬¸ìì—´ë¡œ ë§Œë“¤ ë•Œ, [serializer](https://www.google.com/search?q=https://url.spec.whatwg.org/%23concept-url-serializer)ê°€ ë™ì‘í•˜ë©° ë‹¤ì‹œ `percent-encode`ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ì„¸ë¶€ë‚´ìš©:**

1. `init`ì´ **Sequence**(ë°°ì—´ê³¼ ê°™ì€ ìˆœì„œê°€ ìˆëŠ” êµ¬ì¡°)ì¸ ê²½ìš°

ì˜ˆ: `new URLSearchParams([["name", "gemini"], ["age", "1"]])`

- **ë™ì‘:** ë°°ì—´ ì•ˆì˜ ê° ìš”ì†Œ(innerSequence)ë¥¼ í•˜ë‚˜ì”© í™•ì¸í•©ë‹ˆë‹¤.
- **ì¡°ê±´:** ê° ìš”ì†ŒëŠ” ë°˜ë“œì‹œ **ë‘ ê°œ(í‚¤ì™€ ê°’)**ë¡œ ì´ë£¨ì–´ì ¸ì•¼ í•©ë‹ˆë‹¤. ë§Œì•½ `["a", "b", "c"]`ì²˜ëŸ¼ 3ê°œê°€ ë“¤ì–´ìˆìœ¼ë©´ `TypeError`ë¥¼ ë˜ì§‘ë‹ˆë‹¤.
- **ê²°ê³¼:** `(í‚¤, ê°’)` ìŒì„ ê·¸ëŒ€ë¡œ ë‚´ë¶€ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•©ë‹ˆë‹¤.

2. `init`ì´ **Record**(ì¼ë°˜ì ì¸ ê°ì²´)ì¸ ê²½ìš°

ì˜ˆ: `new URLSearchParams({ "name": "gemini", "age": "1" })`

- **ë™ì‘:** ê°ì²´ì˜ ê° `key(name)`ì™€ `value`ë¥¼ ìˆœíšŒí•©ë‹ˆë‹¤.
- **ê²°ê³¼:** ê° ìŒì„ êº¼ë‚´ì„œ ë‚´ë¶€ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•©ë‹ˆë‹¤.

3. `init`ì´ **String**(ë¬¸ìì—´)ì¸ ê²½ìš°

ì˜ˆ: `new URLSearchParams("name=%EC%95%88%EB%85%95&age=1")`

- **Assert (í™•ì¸):** ì•ì˜ ë‘ ê²½ìš°ê°€ ì•„ë‹ˆë¼ë©´ ë¬´ì¡°ê±´ ë¬¸ìì—´ë¡œ ê°„ì£¼í•©ë‹ˆë‹¤.
- **Parsing (íŒŒì‹±):** `init` ë¬¸ìì—´ì„ **parsing**í•œ ê²°ê³¼ë¬¼ë¡œ ë‚´ë¶€ ë¦¬ìŠ¤íŠ¸ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.

> ì—¬ê¸°ì„œ "parsing"ì´ë€?
> í‘œì¤€ ë¬¸ì„œì˜ ë‹¤ë¥¸ ì„¹ì…˜ì¸ application/x-www-form-urlencoded íŒŒì‹± ì•Œê³ ë¦¬ì¦˜ì„ ë”°ë¦…ë‹ˆë‹¤. ì´ ì•Œê³ ë¦¬ì¦˜ì€ ë¬¸ìì—´ì„ &ì™€ =ë¡œ ìª¼ê°  ë’¤, í¼ì„¼íŠ¸ ì¸ì½”ë”©ëœ ë¬¸ì(%EC%95%88%EB%85%95 ë“±)ë¥¼ ì‹¤ì œ ë¬¸ì(ì•ˆë…•)ë¡œ ë””ì½”ë”©í•˜ì—¬ ì €ì¥í•˜ë¼ê³  ëª…ì‹œí•˜ê³  ìˆìŠµë‹ˆë‹¤.

URLSearchParamsì€ Â [`application/x-www-form-urlencode`](https://url.spec.whatwg.org/#application-x-www-form-urlencoded-percent-encode-set) ë¡œ í¼ì„¼íŠ¸ ì¸ì½”ë”©ì„ ì§„í–‰í•œë‹¤. í¼ì„¼íŠ¸ ì¸ì½”ë”©ì´ë€ (\*, -, ., - +)ë¥¼ ì œì™¸í•œ ëª¨ë“  ì½”ë“œí¬ì¸íŠ¸ë¥¼ ì¸ì½”ë”©í•œë‹¤**. ë˜í•œ ì „ì²´ ì§ë ¬í™”/ë¹„ì§ë ¬í™”í•  ë•Œë§Œ ì¸ì½”ë”©/ë””ì½”ë”©ì„ í•˜ê¸° ë•Œë¬¸ì—**, ê°œë³„ í‚¤ì™€ ê°’ì— ì ‘ê·¼í•  ë•Œì—ëŠ” â€œ**unencoded**â€ ë²„ì „ìœ¼ë¡œ ë‹¤ë£¨ê²Œ ëœë‹¤.

<aside>
ğŸ’¡

**urlsearchparams** ê¿€íŒ!! â†’ ìºì‹±í‚¤ë¥¼ ë§Œë“¤ ë•Œ **urlsearchparams** ì˜ sort() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ìœ ìš©í•˜ë‹¤. (â†’ ë¦¬ì•¡íŠ¸ì¿¼ë¦¬ ìºì‹±í‚¤ ë§Œë“¤ ë•Œë„ ìœ ìš©í• ë“¯!)

It can be useful to sort the name-value tuples in aÂ [`URLSearchParams`](https://url.spec.whatwg.org/#urlsearchparams)Â object, in particular to increase cache hits. This can be accomplished through invoking theÂ [`sort()`](https://url.spec.whatwg.org/#dom-urlsearchparams-sort)Â method:

```
const url = new URL("https://example.org/?q=ğŸ³ï¸â€ğŸŒˆ&key=e1f7bc78");
url.searchParams.sort();
url.search; // "?key=e1f7bc78&q=%F0%9F%8F%B3%EF%B8%8F%E2%80%8D%F0%9F%8C%88"
```

To avoid altering the original input, e.g., for comparison purposes, construct a newÂ [`URLSearchParams`](https://url.spec.whatwg.org/#urlsearchparams)Â object:

```
const sorted = new URLSearchParams(url.search)
sorted.sort()
```

</aside>

### ì›ë¬¸

- URL êµ¬í˜„

A URL object has an associated:

**URL: a UR**L.
**query object: a URLSearchParams object.**
The API URL parser takes a scalar value string url and an optional null-or-scalar value string base (default null), and then runs these steps:

Let parsedBase be null.

If base is non-null:

Set parsedBase to the result of running the basic URL parser on base.

If parsedBase is failure, then return failure.

Return the result of running the basic URL parser on url with parsedBase.

To initialize a URL object url with a URL urlRecord:

Let query be urlRecordâ€™s query, if that is non-null; otherwise the empty string.

Set urlâ€™s URL to urlRecord.

**Set urlâ€™s query object to a new URLSearchParams object.**

**Initialize urlâ€™s query object with query.**

**Set urlâ€™s query objectâ€™s URL object to url.**

```jsx
6.1. URL class
[Exposed=*,
 LegacyWindowAlias=webkitURL]
interface URL {
  constructor(USVString url, optional USVString base);

  static URL? parse(USVString url, optional USVString base);
  static boolean canParse(USVString url, optional USVString base);

  stringifier attribute USVString href;
  readonly attribute USVString origin;
           attribute USVString protocol;
           attribute USVString username;
           attribute USVString password;
           attribute USVString host;
           attribute USVString hostname;
           attribute USVString port;
           attribute USVString pathname;
           attribute USVString search;
  [SameObject] readonly attribute URLSearchParams searchParams;
           attribute USVString hash;

  USVString toJSON();
};
```

[URL Standard](https://url.spec.whatwg.org/#concept-url)

- URLSearchParams

`URLSearchParams`Â objectsÂ [percent-encode](https://developer.mozilla.org/en-US/docs/Glossary/Percent-encoding)Â anything in theÂ [`application/x-www-form-urlencoded`Â percent-encode set](https://url.spec.whatwg.org/#application-x-www-form-urlencoded-percent-encode-set)Â (which contains all code points except ASCII alphanumeric,Â `*`,Â `-`,Â `.`, andÂ `_`), and encode U+0020 SPACE asÂ `+`. However, it only handles percent-encoding when serializing and deserializing full URL search params syntax. When interacting with individual keys and values**, you always use the unencoded version.**

TheÂ `new URLSearchParams(init)`Â constructor steps are

1. IfÂ initÂ is a string and starts with U+003F (?), then remove the first code point fromÂ init.
2. [Initialize](https://url.spec.whatwg.org/#urlsearchparams-initialize)Â [this](https://webidl.spec.whatwg.org/#this)Â withÂ init.

ToÂ initializeÂ aÂ [`URLSearchParams`](https://url.spec.whatwg.org/#urlsearchparams)Â objectÂ queryÂ withÂ init:

1. IfÂ initÂ is aÂ [sequence](https://webidl.spec.whatwg.org/#idl-sequence), thenÂ [for each](https://infra.spec.whatwg.org/#list-iterate)Â innerSequenceÂ ofÂ init:
   1. IfÂ innerSequenceâ€™sÂ [size](https://infra.spec.whatwg.org/#list-size)Â is not 2, thenÂ [throw](https://webidl.spec.whatwg.org/#dfn-throw)Â aÂ [`TypeError`](https://webidl.spec.whatwg.org/#exceptiondef-typeerror).
   2. [Append](https://infra.spec.whatwg.org/#list-append)Â (innerSequence[0],Â innerSequence[1]) toÂ queryâ€™sÂ [list](https://url.spec.whatwg.org/#concept-urlsearchparams-list).
2. Otherwise, ifÂ initÂ is aÂ [record](https://webidl.spec.whatwg.org/#idl-record), thenÂ [for each](https://infra.spec.whatwg.org/#map-iterate)Â nameÂ â†’Â valueÂ ofÂ init,Â [append](https://infra.spec.whatwg.org/#list-append)Â (name,Â value) toÂ queryâ€™sÂ [list](https://url.spec.whatwg.org/#concept-urlsearchparams-list).
3. Otherwise:
   1. Assert:Â initÂ is a string.
   2. SetÂ queryâ€™sÂ [list](https://url.spec.whatwg.org/#concept-urlsearchparams-list)Â to the result ofÂ [parsing](https://url.spec.whatwg.org/#concept-urlencoded-string-parser)Â init.

### ë„ì›€ëë˜ ë§í¬

[https://www.reddit.com/r/webdev/comments/xh7770/urlsearchparams_behave_weirdly/?tl=ko](https://www.reddit.com/r/webdev/comments/xh7770/urlsearchparams_behave_weirdly/?tl=ko)
